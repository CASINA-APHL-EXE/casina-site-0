<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>VISUAL — CASINA</title>
  <style>
    :root{
      --c: rgba(0,255,255,.85);
      --c2: rgba(0,255,255,.18);
      --bg: #000;
    }
    html,body{margin:0;height:100%;background:var(--bg);font-family:monospace;overflow:hidden;}
    body{opacity:1;transition:opacity .6s ease, filter .6s ease;will-change:opacity,filter;}
    body.is-entering{opacity:0;filter:blur(2px);}
    html.is-transitioning body{opacity:0;filter:blur(2px);}

    #bg{position:fixed;inset:0;z-index:0;}
    .scan{
      pointer-events:none;position:fixed;inset:0;z-index:1;
      background: repeating-linear-gradient(
        to bottom,
        rgba(0,255,255,0.04) 0px,
        rgba(0,255,255,0.00) 2px,
        rgba(0,255,255,0.00) 6px
      );
      mix-blend-mode: screen;
      opacity:.25;
    }

    header{
      position:fixed;top:18px;left:18px;z-index:3;
      color:var(--c);opacity:.78;letter-spacing:3px;
      user-select:none;
    }
    header .sub{opacity:.55;letter-spacing:2px;font-size:12px;margin-top:6px}
    .nav{
      position:fixed;top:18px;right:18px;z-index:3;display:flex;gap:10px;
    }
    .btn{
      text-decoration:none;color:var(--c);
      border:1px solid rgba(0,255,255,.25);
      background:rgba(0,255,255,.06);
      padding:10px 12px;border-radius:14px;
      letter-spacing:2px;font-size:12px;
      transition:transform .2s ease, opacity .2s ease, box-shadow .2s ease;
      opacity:.8;
    }
    .btn:hover{opacity:1;transform:translateY(-1px);box-shadow:0 0 26px rgba(0,255,255,.10)}
    .wrap{
      position:relative;z-index:2;height:100%;display:flex;align-items:center;justify-content:center;
      padding:90px 18px 40px;
    }
    .grid{
      width:min(1100px,92vw);
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:14px;
    }
    @media (max-width: 820px){ .grid{grid-template-columns:repeat(2,minmax(0,1fr));} }
    @media (max-width: 520px){ .grid{grid-template-columns:repeat(1,minmax(0,1fr));} }

    .tile{
      position:relative;aspect-ratio: 16/10;
      border-radius:18px;
      border:1px solid rgba(0,255,255,.18);
      background:
        radial-gradient(700px 220px at 25% 20%, rgba(0,255,255,.10), transparent 60%),
        radial-gradient(500px 260px at 70% 70%, rgba(0,255,255,.08), transparent 60%),
        rgba(0,255,255,.04);
      overflow:hidden;
      cursor:pointer;
      transition:transform .25s ease, border-color .25s ease, box-shadow .25s ease, filter .25s ease;
    }
    .tile:hover{
      transform:translateY(-2px);
      border-color:rgba(0,255,255,.35);
      box-shadow:0 0 40px rgba(0,255,255,.10), inset 0 0 30px rgba(0,255,255,.06);
      filter:saturate(1.15);
    }
    .tile .label{
      position:absolute;left:14px;bottom:12px;color:var(--c);
      letter-spacing:2px;font-size:12px;opacity:.85;
    }
    .tile .meta{
      position:absolute;right:14px;top:12px;color:var(--c);
      letter-spacing:2px;font-size:11px;opacity:.55;
    }
    .tile::after{
      content:"";
      position:absolute;inset:-40px;
      background: linear-gradient(90deg, transparent, rgba(0,255,255,.12), transparent);
      transform: translateX(-60%) rotate(8deg);
      opacity:.55;
      transition: transform .6s ease;
    }
    .tile:hover::after{ transform: translateX(40%) rotate(8deg); }

    /* Viewer */
    .viewer{
      position:fixed;inset:0;z-index:10;display:none;
      background:rgba(0,0,0,.82);
      backdrop-filter: blur(6px);
    }
    .viewer.open{display:block;}
    .viewer .panel{
      position:absolute;left:50%;top:50%;
      transform:translate(-50%,-50%);
      width:min(1100px,92vw);
      height:min(640px,74vh);
      border-radius:22px;
      border:1px solid rgba(0,255,255,.25);
      background:
        radial-gradient(900px 420px at 50% 40%, rgba(0,255,255,.10), transparent 60%),
        rgba(0,255,255,.05);
      overflow:hidden;
      box-shadow:0 0 60px rgba(0,255,255,.10);
    }
    .viewer .panel .topbar{
      position:absolute;left:0;right:0;top:0;height:54px;
      display:flex;align-items:center;justify-content:space-between;
      padding:0 14px;color:var(--c);letter-spacing:2px;
      background:rgba(0,0,0,.35);
      border-bottom:1px solid rgba(0,255,255,.15);
    }
    .viewer .x{
      cursor:pointer;opacity:.75;padding:8px 10px;border-radius:12px;
      border:1px solid rgba(0,255,255,.18);
      background:rgba(0,255,255,.06);
    }
    .viewer .x:hover{opacity:1}
    .viewer .art{
      position:absolute;inset:54px 0 0 0;
      display:grid;place-items:center;
    }
    .viewer .art .placeholder{
      width:min(880px,86vw);
      height:min(520px,56vh);
      border-radius:18px;
      border:1px dashed rgba(0,255,255,.22);
      background:
        radial-gradient(650px 300px at 45% 45%, rgba(0,255,255,.10), transparent 62%),
        rgba(0,0,0,.25);
      display:grid;place-items:center;
      color:var(--c);opacity:.7;letter-spacing:3px;
      text-align:center;padding:16px;
    }

    footer{
      position:fixed;left:50%;bottom:22px;transform:translateX(-50%);
      z-index:3;color:var(--c);opacity:.28;letter-spacing:3px;
      user-select:none;pointer-events:none;
      white-space:nowrap;max-width:92vw;overflow:hidden;text-overflow:ellipsis;
    }
  </style>
</head>
<body>
  <canvas id="bg"></canvas>
  <div class="scan"></div>

  <header>
    VISUAL // OUTPUT CHAMBER
    <div class="sub">curated results · no process</div>
  </header>

  <div class="nav">
    <a class="btn" href="/">← HOME</a>
  </div>

  <main class="wrap">
    <section class="grid" id="grid">
      <div class="tile" data-title="ARTIFACT 01" data-meta="render · 2026">
        <div class="meta">LOCK: OFF</div><div class="label">ARTIFACT 01</div>
      </div>
      <div class="tile" data-title="ARTIFACT 02" data-meta="holo · 2026">
        <div class="meta">LOCK: OFF</div><div class="label">ARTIFACT 02</div>
      </div>
      <div class="tile" data-title="ARTIFACT 03" data-meta="signal · 2026">
        <div class="meta">LOCK: OFF</div><div class="label">ARTIFACT 03</div>
      </div>
      <div class="tile" data-title="ARTIFACT 04" data-meta="skull study">
        <div class="meta">LOCK: ON</div><div class="label">ARTIFACT 04</div>
      </div>
      <div class="tile" data-title="ARTIFACT 05" data-meta="industrial">
        <div class="meta">LOCK: ON</div><div class="label">ARTIFACT 05</div>
      </div>
      <div class="tile" data-title="ARTIFACT 06" data-meta="unknown">
        <div class="meta">LOCK: ON</div><div class="label">ARTIFACT 06</div>
      </div>
    </section>
  </main>

  <div class="viewer" id="viewer" role="dialog" aria-modal="true">
    <div class="panel">
      <div class="topbar">
        <div id="vTitle">ARTIFACT</div>
        <div class="x" id="close">CLOSE</div>
      </div>
      <div class="art">
        <div class="placeholder" id="vMeta">
          PLACEHOLDER VIEWER<br/>
          drop images later / swap this block to real media
        </div>
      </div>
    </div>
  </div>

  <footer>visual module active · awaiting selection</footer>

  <script>
    // transitions + bfcache safety
    document.body.classList.add("is-entering");
    requestAnimationFrame(()=>requestAnimationFrame(()=>document.body.classList.remove("is-entering")));
    window.addEventListener("pageshow", () => {
      document.documentElement.classList.remove("is-transitioning");
      document.body.classList.remove("is-entering");
    });

    // background particles (lite)
    const c = document.getElementById("bg"), ctx = c.getContext("2d");
    let W=0,H=0,DPR=1, pts=[];
    function resize(){
      DPR = Math.min(2, window.devicePixelRatio||1);
      W = innerWidth; H = innerHeight;
      c.width = Math.floor(W*DPR); c.height=Math.floor(H*DPR);
      c.style.width=W+"px"; c.style.height=H+"px";
      ctx.setTransform(DPR,0,0,DPR,0,0);
      pts = Array.from({length: Math.max(80, Math.min(180, Math.floor(W*H/9000)))}, ()=>({
        x: Math.random()*W, y: Math.random()*H,
        vx:(Math.random()*2-1)*0.22, vy:(Math.random()*2-1)*0.22
      }));
    }
    window.addEventListener("resize", resize); resize();
    function tick(){
      ctx.clearRect(0,0,W,H);
      ctx.fillStyle="rgba(0,0,0,0.35)";
      ctx.fillRect(0,0,W,H);
      for(const p of pts){
        p.vx += (Math.random()*2-1)*0.02;
        p.vy += (Math.random()*2-1)*0.02;
        p.x += p.vx; p.y += p.vy;
        if(p.x<-20) p.x=W+20; if(p.x>W+20) p.x=-20;
        if(p.y<-20) p.y=H+20; if(p.y>H+20) p.y=-20;
        p.vx*=0.992; p.vy*=0.992;
      }
      ctx.lineWidth=1;
      for(let i=0;i<pts.length;i++){
        for(let j=i+1;j<pts.length;j++){
          const a=pts[i], b=pts[j];
          const dx=a.x-b.x, dy=a.y-b.y;
          const d=Math.hypot(dx,dy);
          if(d<140){
            const alpha=(1-d/140)*0.22;
            ctx.strokeStyle=`rgba(0,255,255,${alpha})`;
            ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
          }
        }
      }
      for(const p of pts){
        ctx.fillStyle="rgba(0,255,255,0.65)";
        ctx.beginPath(); ctx.arc(p.x,p.y,1.6,0,Math.PI*2); ctx.fill();
      }
      requestAnimationFrame(tick);
    }
    tick();

    // viewer
    const viewer = document.getElementById("viewer");
    const vTitle = document.getElementById("vTitle");
    const vMeta = document.getElementById("vMeta");
    document.getElementById("close").onclick = () => viewer.classList.remove("open");
    viewer.addEventListener("click",(e)=>{ if(e.target===viewer) viewer.classList.remove("open"); });
    window.addEventListener("keydown",(e)=>{ if(e.key==="Escape") viewer.classList.remove("open"); });

    document.querySelectorAll(".tile").forEach(tile=>{
      tile.addEventListener("click", ()=>{
        vTitle.textContent = tile.dataset.title || "ARTIFACT";
        vMeta.innerHTML = `${tile.dataset.meta || "signal"}<br/><br/>viewer placeholder`;
        viewer.classList.add("open");
      });
    });

    // smooth nav (home)
    document.querySelectorAll('a[href="/"]').forEach(a=>{
      a.addEventListener("click",(e)=>{
        e.preventDefault();
        document.documentElement.classList.add("is-transitioning");
        setTimeout(()=>location.href="/", 520);
      });
    });
  </script>
</body>
</html>